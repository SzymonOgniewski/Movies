{"version":3,"file":"static/js/52.bdaec84c.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Loader/loader.module.css?1600","components/Loader/Loader.js","components/api/api.js","webpack://react-homework-template/./src/pages/Movies/movies.module.css?e50d","pages/Movies/Movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"loader_loader__1AOoV\"};","import { ColorRing } from 'react-loader-spinner';\nimport css from './loader.module.css';\nexport const Loader = () => {\n  return (\n    <div className={css.loader}>\n      <ColorRing\n        visible={true}\n        height=\"150\"\n        width=\"150\"\n        ariaLabel=\"blocks-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"blocks-wrapper\"\n        colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n      />\n    </div>\n  );\n};\n","const APIKEY = 'c1313c580a28eb18aa8970cd12a87819';\n\nexport const fetchTrending = async () => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${APIKEY}`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const data = await response.json();\n  return data;\n};\nexport const fetchSearching = async searchQuery => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${APIKEY}&language=en-US&query=${searchQuery}&page=1&include_adult=false`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const data = await response.json();\n  return data;\n};\nexport const fetchMovieDetails = async id => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${APIKEY}&language=en-US`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const data = await response.json();\n  return data;\n};\nexport const fetchMovieCredits = async id => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${APIKEY}&language=en-US`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const data = await response.json();\n  return data;\n};\nexport const fetchMovieReviews = async id => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${APIKEY}&language=en-US&page=1`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const data = await response.json();\n  return data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"movies_link__m1ktW\",\"list\":\"movies_list__ZyEjX\",\"input\":\"movies_input__ScP6r\",\"button\":\"movies_button__m85bc\"};","import { useState, useEffect, Suspense } from 'react';\nimport { Link, Outlet, useSearchParams, useLocation } from 'react-router-dom';\nimport { fetchSearching } from 'components/api/api';\nimport { Loader } from 'components/Loader/Loader';\nimport css from './movies.module.css';\nconst Movies = () => {\n  const location = useLocation();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [fetchedMovies, setFetchedMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchParams, setSerchParams] = useSearchParams({\n    query: '',\n  });\n  const currentSearch = searchParams.get('query');\n  const handleChange = e => {\n    setSearchQuery(e.target.value);\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (currentSearch === searchQuery) return;\n    setSerchParams({ query: searchQuery });\n    setSearchQuery('');\n  };\n  useEffect(() => {\n    const fetchMovies = async () => {\n      setIsLoading(true);\n      const getMovies = await fetchSearching(currentSearch);\n      setFetchedMovies(getMovies);\n      setIsLoading(false);\n    };\n    fetchMovies();\n  }, [currentSearch]);\n\n  return (\n    <>\n      <div>\n        <form onSubmit={handleSubmit}>\n          <input\n            className={css.input}\n            onChange={handleChange}\n            type=\"text\"\n            name=\"searchQuery\"\n            value={searchQuery}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movies\"\n            required\n          />\n          <button type=\"submit\" className={css.button}>\n            Search\n          </button>\n        </form>\n      </div>\n      <div>\n        <ul className={css.list}>\n          {isLoading ? (\n            <Loader />\n          ) : (\n            fetchedMovies.results?.map(item => (\n              <li key={item.id}>\n                <Link\n                  to={`${item.id}`}\n                  className={css.link}\n                  state={{ from: location }}\n                >\n                  {item.title}\n                </Link>\n              </li>\n            ))\n          )}\n        </ul>\n      </div>\n      <Suspense\n        fallback={\n          <div style={{ color: 'ghostwhite', fontSize: '36px' }}>\n            Loading...\n          </div>\n        }\n      >\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\nexport default Movies;\n"],"names":["Loader","className","css","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","APIKEY","fetchTrending","fetch","response","ok","Error","status","json","data","fetchSearching","searchQuery","fetchMovieDetails","id","fetchMovieCredits","fetchMovieReviews","location","useLocation","useState","setSearchQuery","fetchedMovies","setFetchedMovies","isLoading","setIsLoading","useSearchParams","query","searchParams","setSerchParams","currentSearch","get","useEffect","fetchMovies","getMovies","onSubmit","e","preventDefault","onChange","target","value","type","name","autoComplete","autoFocus","placeholder","required","results","map","item","to","state","from","title","Suspense","fallback","style","color","fontSize"],"sourceRoot":""}