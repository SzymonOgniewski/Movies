{"version":3,"file":"static/js/247.52c6da11.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Loader/loader.module.css?1600","components/Loader/Loader.js","components/api/api.js","webpack://react-homework-template/./src/pages/MovieDetails/movieDetails.module.css?c148","pages/MovieDetails/MovieDetails.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"loader_loader__1AOoV\"};","import { ColorRing } from 'react-loader-spinner';\nimport css from './loader.module.css';\nexport const Loader = () => {\n  return (\n    <div className={css.loader}>\n      <ColorRing\n        visible={true}\n        height=\"150\"\n        width=\"150\"\n        ariaLabel=\"blocks-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"blocks-wrapper\"\n        colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n      />\n    </div>\n  );\n};\n","const APIKEY = 'c1313c580a28eb18aa8970cd12a87819';\n\nexport const fetchTrending = async () => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${APIKEY}`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const data = await response.json();\n  return data;\n};\nexport const fetchSearching = async searchQuery => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${APIKEY}&language=en-US&query=${searchQuery}&page=1&include_adult=false`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const data = await response.json();\n  return data;\n};\nexport const fetchMovieDetails = async id => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${APIKEY}&language=en-US`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const data = await response.json();\n  return data;\n};\nexport const fetchMovieCredits = async id => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${APIKEY}&language=en-US`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const data = await response.json();\n  return data;\n};\nexport const fetchMovieReviews = async id => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${APIKEY}&language=en-US&page=1`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const data = await response.json();\n  return data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"details\":\"movieDetails_details__rNOvG\",\"detailsPoster\":\"movieDetails_detailsPoster__CYwa2\",\"detailsItem\":\"movieDetails_detailsItem__e+tZH\",\"detailsList\":\"movieDetails_detailsList__MhxoP\",\"title\":\"movieDetails_title__SN6Ns\",\"score\":\"movieDetails_score__Op585\",\"overview\":\"movieDetails_overview__g+DFT\",\"genres\":\"movieDetails_genres__xvVWW\",\"genresList\":\"movieDetails_genresList__enlYD\",\"additionalInfo\":\"movieDetails_additionalInfo__irgwq\",\"additionalInfoTitle\":\"movieDetails_additionalInfoTitle__U1La8\",\"additionalInfoLink\":\"movieDetails_additionalInfoLink__N-S3N\",\"active\":\"movieDetails_active__IorLW\",\"backlink\":\"movieDetails_backlink__7P-zU\"};","import { useEffect, useState, Suspense } from 'react';\nimport { fetchMovieDetails } from 'components/api/api';\nimport { Loader } from 'components/Loader/Loader';\nimport {\n  useParams,\n  NavLink,\n  Outlet,\n  useLocation,\n  Link,\n} from 'react-router-dom';\nimport css from './movieDetails.module.css';\nconst MovieDetails = () => {\n  const [details, setDetails] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const { id } = useParams();\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/movies';\n  const handleUserScore = () => {\n    const score = details.vote_average;\n    const percent = Number(score * 10);\n    return percent?.toFixed(2);\n  };\n\n  const handleGenres = () => {\n    const genresArr = details.genres;\n    const genres = genresArr?.map(genre => genre.name + ', ');\n    return genres;\n  };\n  const handleDate = () => {\n    const date = details.release_date;\n    const year = date?.substring(0, 4);\n    return year;\n  };\n  useEffect(() => {\n    const handleFetchDetails = async () => {\n      setIsLoading(true);\n      const data = await fetchMovieDetails(id);\n      setDetails(data);\n      setIsLoading(false);\n    };\n    handleFetchDetails();\n  }, [id]);\n  return (\n    <div>\n      <Link to={backLinkHref} className={css.backlink}>\n        Go back\n      </Link>\n      {isLoading && <Loader />}\n      <div className={css.details}>\n        <img\n          src={\n            details.poster_path\n              ? `https://image.tmdb.org/t/p/w500${details.poster_path}`\n              : 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/1665px-No-Image-Placeholder.svg.png'\n          }\n          alt={details.title}\n          className={css.detailsPoster}\n        />\n        <ul className={css.detailsList}>\n          <li className={css.detailsItem}>\n            <p className={css.title}>\n              {details.title} ({handleDate()})\n            </p>\n            <p className={css.score}>User score: {handleUserScore() + '%'}</p>\n          </li>\n          <li className={css.detailsItem}>\n            <p className={css.overview}>Overview:</p>\n            <p>{details.overview}</p>\n          </li>\n          <li className={css.detailsItem}>\n            <p className={css.genres}>Genres:</p>\n            <p className={css.genresList}>{handleGenres()}</p>\n          </li>\n        </ul>\n      </div>\n      <div className={css.additionalInfo}>\n        <h3 className={css.additionalInfoTitle}>Additional info:</h3>\n        <ul>\n          <li>\n            <NavLink\n              to={`cast`}\n              className={({ isActive }) =>\n                isActive ? css.active : css.additionalInfoLink\n              }\n              state={location.state}\n            >\n              Cast\n            </NavLink>\n          </li>\n          <li>\n            <NavLink\n              to={`reviews`}\n              className={({ isActive }) =>\n                isActive ? css.active : css.additionalInfoLink\n              }\n              state={location.state}\n            >\n              Reviews\n            </NavLink>\n          </li>\n        </ul>\n      </div>\n      <Suspense\n        fallback={\n          <div style={{ color: 'ghostwhite', fontSize: '36px' }}>\n            Loading...\n          </div>\n        }\n      >\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\nexport default MovieDetails;\n"],"names":["Loader","className","css","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","APIKEY","fetchTrending","fetch","response","ok","Error","status","json","data","fetchSearching","searchQuery","fetchMovieDetails","id","fetchMovieCredits","fetchMovieReviews","useState","details","setDetails","isLoading","setIsLoading","useParams","location","useLocation","backLinkHref","state","from","useEffect","handleFetchDetails","to","src","poster_path","alt","title","date","release_date","substring","handleDate","score","vote_average","percent","Number","toFixed","handleUserScore","overview","genresArr","genres","map","genre","name","handleGenres","isActive","Suspense","fallback","style","color","fontSize"],"sourceRoot":""}